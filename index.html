<html>
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="index.css"/> 
    </head>
    <body>
        <div id="content">
            <div id="menu-container">
                <button class="btn btn-secondary btn-lg home" id="home-menu"></button>
            </div>
            <div id="operations-container">
                <div id="keyboard">
                    <div id="keyboard-result">
                        <input id="keyboard-value" class="numeric-input" type="text" value=" "/>
                    </div>
                    <div class="numeric-grid">
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(1)">1</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(2)">2</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(3)">3</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(4)">4</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(5)">5</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(6)">6</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(7)">7</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(8)">8</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(9)">9</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress(0)">0</button></div>
                        <div><button class="btn btn-info btn-keyboard" onclick="keyboardKeyPress('.')">.</button></div>
                        <div class="delete-sign"><button class="btn btn-danger btn-keyboard" onclick="keyboardKeyPress(-1)">&lt;&lt;</button></div>
                    </div>
                </div>
                <div id="catalog-container">
                    <div id="catalog">
                        <div class="category-grid" id="catalog-content"></div>
                    </div>
                    <div id="catalog-navigation">
                        <div class="navigation-grid">
                            <button class="btn btn-up" onclick="scrollFunction('up')"></button>
                            <button class="btn btn-exit" onclick="showCategories()"></button>
                            <button class="btn btn-down" onclick="scrollFunction('down')"></button>
                        </div>
                    </div>
                    <div id="search">
                            <input class="form-control search" type="text" placeholder="Cauta produs"/>
                    </div>
                </div>
                <div id="order-items">
                    <div class="order-header-grid" id="order-header">
                        <p>CANTITATE</p>
                        <p>PRODUS</p>
                        <p>PRET</p>
                        <p>TOTAL</p>
                    </div>
                    <div class="order-contents" id="order-info">
                    
                       <!-- <div>2</div>
                        <div>CAPPUCCINO ORIGIN</div>
                        <div>10.00</div>
                        <div>20.00</div>
                        <div>1</div>
                        <div>FLAT WHITE ORIGIN</div>
                        <div>10.00</div>    
                        <div>10.00</div>
                        <div>2</div>
                        <div>ESPPRESSO DUBLU</div>
                        <div>7.00</div>
                        <div>14.00</div>
                    </div>-->
                </div>
                <div class="payment-container">
                    <div class="receipt">
                            <div><p>NR BON</p></div>
                            <div><p>TOTAL</p></div>
                            <div><p>CASA</p></div>
                            <div><p>28</p></div>
                            <div id="total"><p>44.00</p></div>
                            <div><p>ADMIN1</p></div>
                        </div>
                    <div class="payment-method">
                        <button class="btn btn-info btn-lg btn-pay" onclick="showText('numerar')">NUMERAR</button>
                        <button class="btn btn-info btn-lg btn-pay" onclick="showText('card')">CARD</button>
                        <button class="btn btn-secondary btn-lg btn-pay">OPTIUNI PLATA</button>
                    </div>
                    </div>
                </div>           
            </div>
        </div>
        <!--added jquery & bootstrap-->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script type="text/javascript">
            //cand apas pe un buton din tastatura 
            //sa afiseze valoarea lui in elementul input cu id keyboard-value
            //preiua valoarea initiala din input
            //concatenez valoarea primita de functie
            //transmit noua valoare in input
            function keyboardKeyPress(value) {
            var initialValue = document.getElementById("keyboard-value").value.toString()
            if(value == -1) {
                var newValue = initialValue.slice(0,initialValue.length-1)
            }
                else {
                   var newValue = initialValue + value.toString()
            }
            document.getElementById("keyboard-value").value = newValue
        }   
        </script>   
        <script type="text/javascript">
            //cand apas pe buton jos containerul category sa scroleze in jos 
            //cand apas pe buton sus containerul category sa scroleze in sus
            //cand apas pe buton back containerul sa imi incarce si afiseze categoriile
        function scrollFunction(direction) {
            //console.log(direction)
            if (direction=='up') {
               document.getElementById("catalog").scrollBy(0, -190) 
            }
            else {
                document.getElementById("catalog").scrollBy(0, 190)
            }
        }
        </script>
        <script type="text/javascript">
        // vreau sa afiseze categoriile definitie in json din sectiunea categories
            var catalog={categories:[
                {id:1, name:"Kimbo", products:[{name:"Espresso", price:6}, {name:"Cappuccino", price:9}]}, 
                {id:2, name:"Kimbo Origin", products:[{name:"Espresso Origin", price:7}, {name:"Flat White Origin", price: 12}]}, 
                {id:3, name:"Non-coffee", products:[{name:"Limonada", price: 10}]}
            ]
            }
            var catalogContent=document.getElementById("catalog-content")
            function showCategories () {
                var categoriesButtons =""
                for (var i=0; i<catalog.categories.length; i++) {
                categoriesButtons=categoriesButtons + `<div><button onclick="showProducts(${i})" class="btn btn-warning btn-category">${catalog.categories[i].name}</button></div>`
            }
            catalogContent.innerHTML=categoriesButtons
            }
            function showProducts(index) {
                var productButtons=""
                for (var i=0; i<catalog.categories[index].products.length; i++) {
                    productButtons=productButtons + `<div><button class="btn btn-warning btn-category">${catalog.categories[index].products[i].name}</button></div>`
                }
                catalogContent.innerHTML=productButtons
            }
            showCategories()
        </script>
    <script type="text/javascript">
        function showText(text) {
            console.log(text)
        }
    </script>
    <script type="text/javascript">
            var orderInfo = {items:[
                { quantity: 4, productname: "Espresso", price: 5, total: 20 }, 
                { quantity: 1, productname: "Flat White Origin", price: 10, total: 10 }, 
                { quantity: 1, productname: "Limonada", price: 14, total: 14 },
                { quantity: 1, productname: "Limonada", price: 14, total: 14 },
                { quantity: 1, productname: "Limonada", price: 14, total: 14 },
                { quantity: 1, productname: "Limonada", price: 14, total: 14 },
                { quantity: 1, productname: "Limonada", price: 14, total: 14 },
                { quantity: 1, productname: "Limonada", price: 14, total: 14 },
                { quantity: 2, productname: "Cappucino", price: 10, total: 20 }]}
            function showOrder(){
            var orderContent=document.getElementById("order-info")
            var orderLines=""
            for (var i=0; i<orderInfo.items.length; i++) {
                orderLines=orderLines +  `<div class="area Quantity">${orderInfo.items[i].quantity}</div>
                <div class="area ProductName-Area">${orderInfo.items[i].productname}</div>
                <div class="area Price-Area">${orderInfo.items[i].price.toFixed(2).toString()}</div>
                <div class="area Total-Area">${orderInfo.items[i].total.toFixed(2).toString()}</div>`
            }
            orderContent.innerHTML=orderLines
            calculateTotal()
            }
            showOrder()
            // calculeaza totalul produselor comandate
            function calculateTotal(){
                //defineste o variabila cu elementul cu id-ul total
                var receiptTotal=document.getElementById("total")
                //definim o variabila ce reprezinta valoarea totala a produselor comandate
            var orderTotal=0
            // parcurgem vectorul orderInfo pentru a ajunge la pretul total produsului (cantitate*pret)
            // facem suma din totaluri porning de la zero adunand mereu ultima valoarea
            for (var i=0; i<orderInfo.items.length; i++) {
                orderTotal=orderTotal + orderInfo.items[i].total
            }
            orderTotal=Math.round(orderTotal,2).toFixed(2).toString()
            receiptTotal.innerHTML=`<p>${orderTotal}<p>`
            }
    </script>
    </body>
</html>